import{j as e,a as B}from"./emotion-react-jsx-runtime.browser.esm-B6nDGTOp.js";import{r as D}from"./random-CmfFXdz5.js";import{C as E}from"./models-D08OMJcb.js";import{d as x}from"./disableControl-BnIAncyP.js";import{u as F}from"./useHandler-HI23tEoY.js";import{c as g}from"./emotion-react.browser.esm-DKbCFQzN.js";import{t as f}from"./index-BA0eH0Wu.js";import{r as c}from"./index-qCb0-TeD.js";import{S as P}from"./index-B04UsWsO.js";import{M as r}from"./index-_xFncG76.js";import{d as N,a as R}from"./index-gEP6Tn1u.js";import{o as j}from"./omit-C4DMN5cy.js";import{m as V}from"./merge-BUZDYRsv.js";import{u as H}from"./useLocaleCompare-BPdJfeNb.js";import{R as z}from"./DownOutlined-C-IxbET4.js";import{n as A}from"./noop-DX6rZLP_.js";import"./jsx-runtime-DzlC0hKS.js";import"./types-Dn-G_zsM.js";import"./traditional-B_ldJKp3.js";import"./index-CrYrvawI.js";import"./index-C5U6HIMD.js";import"./index-DzgdUzM0.js";import"./index-iJUMMFGI.js";import"./index-MOlr3Ojg.js";import"./index-BsfIDxJ3.js";import"./index-CatqC4ig.js";import"./property-DTA7hnOA.js";import"./get-DGJ4vF0c.js";import"./vanilla-DtBHub2h.js";import"./literalUnion-DyVqFjOM.js";import"./define-D3i8B5cg.js";import"./Iso4217CurrencySchema-I5Px3Rsp.js";import"./StringToNumberSchema-DICqxOFk.js";import"./WeekdayNumberSchema-CgxigkyA.js";import"./index-BQ-NB-n4.js";import"./capitalize-CY0R7VOI.js";import"./index-CK730dNH.js";import"./index-DN361_u3.js";import"./index-CmqFZ15x.js";import"./index-8L6fjrd-.js";import"./pick-DYnZlk75.js";import"./useEventCallback-HuInTmxh.js";import"./inspectMessage-DlwZE6zu.js";import"./index-BAiONZ7V.js";import"./index-DbGQkxQ5.js";import"./NotFoundContent-42rRWz8w.js";import"./assignDisplayName-lT0r0-ot.js";import"./Empty-Wvpx-ZQe.js";import"./index-BVhqM5T_.js";import"./omit-LJmhX_jk.js";import"./presets-fZzeZ6Sn.js";import"./DisabledContext-NEMnJEZA.js";import"./index-fivQpuRm.js";import"./index-CmoHrzZA.js";import"./toConsumableArray-BjwuTSou.js";import"./index-NCLGaooH.js";import"./Portal-qV56MC8h.js";import"./useSize-XLj32eBt.js";import"./shadow-smhd3i8u.js";import"./useId-CkKFPa5_.js";import"./isVisible-DhUEo0yb.js";import"./KeyCode-lh1qUinJ.js";import"./pickAttrs-XdSaTJtx.js";import"./Overflow-DF_X_I1g.js";import"./List-BcMJ_vkB.js";import"./useZIndex-BbbELKB6.js";import"./motion-DdkSFxyu.js";import"./PurePanel-Bml8ml_A.js";import"./useVariants-CK8wnbnE.js";import"./context-bgT8s9yI.js";import"./asyncToGenerator-CUe5B5qN.js";import"./useLocale-D6ZQsxC3.js";import"./useCSSVarCls-DCHdCyfl.js";import"./Compact-VphdgA5n.js";import"./compact-item-5orumCwJ.js";import"./CheckOutlined-DcewmLkY.js";import"./AntdIcon-C0KfWvva.js";import"./CloseCircleFilled-Bgzza4Eo.js";import"./CloseOutlined-CfOpPp0C.js";import"./LoadingOutlined-PTw75qLp.js";import"./SearchOutlined-CS-6PfVh.js";import"./useTranslation-XVYQH2mr.js";import"./cloneDeepWith-ktajmmvU.js";import"./tags-CpduBB1M.js";import"./isPrimitive-CtkJ6J5I.js";import"./isArguments-DZsL9lab.js";import"./isTypedArray-CzKvdEgb.js";import"./useLanguage-Cw5TNOAB.js";const u=N({inactiveIcon:g({color:f.colors.neutral006},";label:emotion-inactiveIcon;"),activeWebChatIcon:g({color:f.colors.blue006},";label:emotion-activeWebChatIcon;")}),W={chatting:!1};function U(t,o,n){const a=V({},W,n),i={line:{active:e(r,{"un-i-motif":"line_color"}),inactive:e(r,{"un-i-motif":"line_mono",css:u.inactiveIcon})},fb:a.chatting?{active:e(r,{"un-i-motif":"messenger"}),inactive:e(r,{"un-i-motif":"messenger_mono",css:u.inactiveIcon})}:{active:e(r,{"un-i-motif":"facebook"}),inactive:e(r,{"un-i-motif":"facebook_mono",css:u.inactiveIcon})},ig:{active:e(r,{"un-i-motif":"instagram"}),inactive:e(r,{"un-i-motif":"instagram_mono",css:u.inactiveIcon})},whatsapp:{active:e(r,{"un-i-motif":"whatsapp"}),inactive:e(r,{"un-i-motif":"whatsapp_mono",css:u.inactiveIcon})},wccs:{active:e(r,{"un-i-motif":"earth",css:u.activeWebChatIcon}),inactive:e(r,{"un-i-motif":"earth",css:u.inactiveIcon})}},{active:l,inactive:s}=i[t];return o?l:s}const _=({options:t,style:o,...n})=>{const{channelType:a,isConnected:i}=c.useMemo(()=>{const h="channelType"in n?n.channelType:n.channel.type,I="channel"in n?n.channel.status==="connected":n.on||!0;return{channelType:h,isConnected:I}},[n]),l=c.useMemo(()=>U(a,i,t),[a,i,t]),s=j(n,["channel","channelType","on"]);return e("div",{style:{...o},...s,children:l})},w=t=>{const o=c.useMemo(function(){return V({},{chatting:!0},t.options)},[t.options]);return e(_,{...t,options:o})};try{w.displayName="ChannelTypeChattingIcon",w.__docgenInfo={description:"Use this channel type logo for chatting features",displayName:"ChannelTypeChattingIcon",props:{channelType:{defaultValue:null,description:"",name:"channelType",required:!0,type:{name:"CantataTypes"}},on:{defaultValue:null,description:"",name:"on",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"OptionalDeep<Options>"}},channel:{defaultValue:null,description:"",name:"channel",required:!0,type:{name:'Pick<CantataTypes, "type" | "status">'}}}}}catch{}try{_.displayName="ChannelTypeIcon",_.__docgenInfo={description:"Use this channel type logo for features other than chatting",displayName:"ChannelTypeIcon",props:{channelType:{defaultValue:null,description:"",name:"channelType",required:!0,type:{name:"CantataTypes"}},on:{defaultValue:null,description:"",name:"on",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"OptionalDeep<Options>"}},channel:{defaultValue:null,description:"",name:"channel",required:!0,type:{name:'Pick<CantataTypes, "type" | "status">'}}}}}catch{}function G(){const t=H(),o=c.useCallback(function(i,l){return i.status==="connected"&&l.status!=="connected"?-1:i.status!=="connected"&&l.status==="connected"?1:t(i.name,l.name)},[t]);return c.useCallback(function(i){return i.sort(o)},[o])}const d=N({channelSelectBase:g([R,{flex:"initial",flexFlow:"row nowrap",alignItems:"center",borderRadius:"0.25rem",gap:8,"& .ant-select-selector":{padding:"4px 8px","& .ant-select-selection-item":{paddingInlineEnd:"calc(12px + 8px)"}},"& .ant-select-selector::after":{lineHeight:"1em"},"&.ant-select-open, &.ant-select-focused, &:hover":{".ant-select-selector":{borderColor:f.colors.blue006,boxShadow:`0 0 2px 0 ${f.colors.blue005}`}},"&.ant-select-open, &.ant-select-focused":{".ant-select-selector":{outline:`${f.colors.primaryOutline} auto 1px`,outlineOffset:"3px"}},"&.ant-select-single:not(.ant-select-customize-input) .ant-select-selector .ant-select-selection-search-input":{height:"auto"}}],";label:emotion-channelSelectBase;"),channelName:g({overflow:"hidden",color:f.colors.neutral009,textOverflow:"ellipsis"},";label:emotion-channelName;"),channelLabel:{name:"yc1b6p-emotion-channelLabel",styles:"display:flex;height:24px;align-items:center;gap:8px;font-size:0.875rem;label:emotion-channelLabel;"},hideBorder:{name:"1bi0fam-emotion-hideBorder",styles:"& .ant-select-selector{border:1px solid transparent;};label:emotion-hideBorder;"},downOutlined:g({color:f.colors.neutral006,transition:"rotate 0.2s ease-in-out",".ant-select-dropdown &":{display:"none"},".ant-select-open &":{rotate:"-180deg"}},";label:emotion-downOutlined;")}),y="empty",M="channel-";function v(t){return`${M}${t}`}var J={name:"1x95p91-emotion-label",styles:"font-size:24px;label:emotion-label;"};const K=c.forwardRef(function({popupMatchSelectWidth:o=!1,value:n,onChange:a,channels:i,hideBorder:l,emptyOption:s,...h},I){const T=G(),L=c.useMemo(function(){const p=T(i).map(C=>({label:B("div",{css:d.channelLabel,children:[e(_,{channel:C,css:J}),e("span",{css:d.channelName,children:C.name})]}),key:v(C.id),value:v(C.id)})),b=s?{label:e("div",{css:d.channelLabel,children:e("span",{css:d.channelName,children:s})}),key:y,value:y}:null;return[...b?[b]:[],...p]},[i,s,T]),k=c.useMemo(function(){return g([d.channelSelectBase,l?d.hideBorder:""],";label:emotion-mergeCss;")},[l]),q=c.useMemo(function(){return"suffixIcon"in h?h.suffixIcon:e(z,{css:d.downOutlined})},[h]),$=c.useMemo(function(){const p=n?v(n):y;if(!(p===y&&!s))return p},[s,n]),S=F((m,p)=>{if(!m||m===y){a==null||a(Number.NaN,p);return}const b=Number(m.substring(M.length));a==null||a(b,p)});return e(P,{css:k,...h,options:L,value:$,onChange:S,onSelect:S,onDeselect:A,popupMatchSelectWidth:o,suffixIcon:q,ref:I})}),Q=Object.assign(K,{emptyOptionValue:y,selectedOptionValue:v});try{ChannelSelect.displayName="ChannelSelect",ChannelSelect.__docgenInfo={description:"",displayName:"ChannelSelect",props:{}}}catch{}const O=E.options,X=Array.from({length:6}).fill(0).flatMap((t,o)=>{const n=O[o%O.length];return n?[{id:o,uuid:D(),externalChannelId:`external-id-${o}`,name:`Channel ${o}`,type:n,createdAt:new Date,userRecognitionEnabled:!1,broadcastEnabled:!1,status:"connected"}]:[]}),kt={component:Q,args:{channels:X,value:0},argTypes:{placeholder:x,bordered:x,getPopupContainer:x},decorators:[t=>e("div",{style:{minHeight:"300px",width:"min-content"},children:e(t,{})})]},qt={},$t=["DefaultStory"];export{qt as DefaultStory,$t as __namedExportsOrder,kt as default};
