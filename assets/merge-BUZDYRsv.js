import{i as S,a as A,b as m}from"./cloneDeepWith-ktajmmvU.js";import{x as T,q as P,e as D,n as x,a as B}from"./tags-CpduBB1M.js";import{i as h}from"./isPrimitive-CtkJ6J5I.js";import{i as g}from"./isArguments-DZsL9lab.js";import{i as R}from"./isTypedArray-CzKvdEgb.js";import{n as E}from"./noop-DX6rZLP_.js";function F(e){if(h(e))return e;if(Array.isArray(e)||S(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),f=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new f(e);if(e instanceof RegExp){const n=new f(e);return n.lastIndex=e.lastIndex,n}if(e instanceof DataView)return new f(e.buffer.slice(0));if(e instanceof Error){const n=new f(e.message);return n.stack=e.stack,n.name=e.name,n.cause=e.cause,n}if(typeof File<"u"&&e instanceof File)return new f([e],e.name,{type:e.type,lastModified:e.lastModified});if(typeof e=="object"){const n=Object.create(t);return Object.assign(n,e)}return e}function O(e){return typeof e=="object"&&e!==null}function K(e){var f;if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const n=e[Symbol.toStringTag];return n==null||!((f=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))!=null&&f.writable)?!1:e.toString()===`[object ${n}]`}let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function M(e,t){return A(e,(f,n,a,s)=>{if(typeof e=="object")switch(Object.prototype.toString.call(e)){case x:case D:case P:{const r=new e.constructor(e==null?void 0:e.valueOf());return m(r,e),r}case T:{const r={};return m(r,e),r.length=e.length,r[Symbol.iterator]=e[Symbol.iterator],r}default:return}})}function w(e){return M(e)}function V(e,...t){const f=t.slice(0,-1),n=t[t.length-1];let a=e;for(let s=0;s<f.length;s++){const r=f[s];a=c(a,r,n,new Map)}return a}function c(e,t,f,n){if(h(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(n.has(t))return F(n.get(t));if(n.set(t,e),Array.isArray(t)){t=t.slice();for(let s=0;s<t.length;s++)t[s]=t[s]??void 0}const a=[...Object.keys(t),...B(t)];for(let s=0;s<a.length;s++){const r=a[s];let i=t[r],l=e[r];if(g(i)&&(i={...i}),g(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(i)&&(i=w(i)),Array.isArray(i))if(typeof l=="object"&&l!=null){const y=[],p=Reflect.ownKeys(l);for(let u=0;u<p.length;u++){const d=p[u];y[d]=l[d]}l=y}else l=[];const o=f(l,i,r,e,t,n);o!=null?e[r]=o:Array.isArray(i)||O(l)&&O(i)?e[r]=c(l,i,f,n):l==null&&K(i)?e[r]=c({},i,f,n):l==null&&R(i)?e[r]=w(i):(l===void 0||i!==void 0)&&(e[r]=i)}return e}function C(e,...t){return V(e,...t,E)}export{C as m};
