import{R as X,r as l}from"./index-qCb0-TeD.js";import{c as M}from"./index-DbGQkxQ5.js";import{u as J,C as Q}from"./useBubbleLock-OqGqq4Qb.js";import{b as T,p as U,t as Y,_ as A}from"./omit-LJmhX_jk.js";import{T as Z,W as ee}from"./index-BZsVY9hW.js";import{a as te}from"./DisabledContext-NEMnJEZA.js";import{u as z}from"./useCSSVarCls-DCHdCyfl.js";import{F as se}from"./context-bgT8s9yI.js";import{u as B}from"./index-BL1rL1qh.js";const D=X.createContext(null);var le=function(a,u){var o={};for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&u.indexOf(t)<0&&(o[t]=a[t]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(a);r<t.length;r++)u.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(a,t[r])&&(o[t[r]]=a[t[r]]);return o};const ae=(a,u)=>{var o;const{prefixCls:t,className:r,rootClassName:S,children:x,indeterminate:g=!1,style:P,onMouseEnter:h,onMouseLeave:i,skipGroup:O=!1,disabled:w}=a,n=le(a,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:k,direction:_,checkbox:d}=l.useContext(T),s=l.useContext(D),{isFormItemInput:j}=l.useContext(se),I=l.useContext(te),y=(o=(s==null?void 0:s.disabled)||w)!==null&&o!==void 0?o:I,f=l.useRef(n.value),C=l.useRef(null),E=U(u,C);l.useEffect(()=>{s==null||s.registerValue(n.value)},[]),l.useEffect(()=>{if(!O)return n.value!==f.current&&(s==null||s.cancelValue(f.current),s==null||s.registerValue(n.value),f.current=n.value),()=>s==null?void 0:s.cancelValue(n.value)},[n.value]),l.useEffect(()=>{var b;!((b=C.current)===null||b===void 0)&&b.input&&(C.current.input.indeterminate=g)},[g]);const c=k("checkbox",t),V=z(c),[$,N,R]=B(c,V),m=Object.assign({},n);s&&!O&&(m.onChange=function(){n.onChange&&n.onChange.apply(n,arguments),s.toggleOption&&s.toggleOption({label:x,value:n.value})},m.name=s.name,m.checked=s.value.includes(n.value));const G=M(`${c}-wrapper`,{[`${c}-rtl`]:_==="rtl",[`${c}-wrapper-checked`]:m.checked,[`${c}-wrapper-disabled`]:y,[`${c}-wrapper-in-form-item`]:j},d==null?void 0:d.className,r,S,R,V,N),e=M({[`${c}-indeterminate`]:g},Z,N),[p,v]=J(m.onClick);return $(l.createElement(ee,{component:"Checkbox",disabled:y},l.createElement("label",{className:G,style:Object.assign(Object.assign({},d==null?void 0:d.style),P),onMouseEnter:h,onMouseLeave:i,onClick:p},l.createElement(Q,Object.assign({},m,{onClick:v,prefixCls:c,className:e,disabled:y,ref:E})),x!==void 0&&l.createElement("span",{className:`${c}-label`},x))))},F=l.forwardRef(ae);var re=function(a,u){var o={};for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&u.indexOf(t)<0&&(o[t]=a[t]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(a);r<t.length;r++)u.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(a,t[r])&&(o[t[r]]=a[t[r]]);return o};const ne=l.forwardRef((a,u)=>{const{defaultValue:o,children:t,options:r=[],prefixCls:S,className:x,rootClassName:g,style:P,onChange:h}=a,i=re(a,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:O,direction:w}=l.useContext(T),[n,k]=l.useState(i.value||o||[]),[_,d]=l.useState([]);l.useEffect(()=>{"value"in i&&k(i.value||[])},[i.value]);const s=l.useMemo(()=>r.map(e=>typeof e=="string"||typeof e=="number"?{label:e,value:e}:e),[r]),j=e=>{d(p=>p.filter(v=>v!==e))},I=e=>{d(p=>[].concat(A(p),[e]))},y=e=>{const p=n.indexOf(e.value),v=A(n);p===-1?v.push(e.value):v.splice(p,1),"value"in i||k(v),h==null||h(v.filter(b=>_.includes(b)).sort((b,W)=>{const H=s.findIndex(L=>L.value===b),K=s.findIndex(L=>L.value===W);return H-K}))},f=O("checkbox",S),C=`${f}-group`,E=z(f),[c,V,$]=B(f,E),N=Y(i,["value","disabled"]),R=r.length?s.map(e=>l.createElement(F,{prefixCls:f,key:e.value.toString(),disabled:"disabled"in e?e.disabled:i.disabled,value:e.value,checked:n.includes(e.value),onChange:e.onChange,className:`${C}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label)):t,m={toggleOption:y,value:n,disabled:i.disabled,name:i.name,registerValue:I,cancelValue:j},G=M(C,{[`${C}-rtl`]:w==="rtl"},x,g,$,E,V);return c(l.createElement("div",Object.assign({className:G,style:P},N,{ref:u}),l.createElement(D.Provider,{value:m},R)))}),q=F;q.Group=ne;q.__ANT_CHECKBOX=!0;export{q as C};
