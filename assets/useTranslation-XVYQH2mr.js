import{r as d}from"./index-qCb0-TeD.js";function H(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const L={};function x(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&L[e[0]]||(typeof e[0]=="string"&&(L[e[0]]=new Date),H(...e))}const R=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}};function E(n,e,t){n.loadNamespaces(e,R(n,t))}function v(n,e,t,o){typeof t=="string"&&(t=[t]),t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,R(n,o))}function $(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const c=(y,m)=>{const a=e.services.backendConnector.state[`${y}|${m}`];return a===-1||a===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!c(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(o,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||c(o,n)&&(!i||c(s,n)))}function j(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(x("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,n))return!1}}):$(n,e,t)}const A=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,B={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},M=n=>B[n],O=n=>n.replace(A,M);let C={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:O};function Y(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};C={...C,...n}}function P(){return C}let z;function Q(n){z=n}function U(){return z}const q=d.createContext();class J{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const W=(n,e)=>{const t=d.useRef();return d.useEffect(()=>{t.current=n},[n,e]),t.current};function F(n,e,t,o){return n.getFixedT(e,t,o)}function G(n,e,t,o){return d.useCallback(F(n,e,t,o),[n,e,t,o])}function X(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:o,defaultNS:i}=d.useContext(q)||{},s=t||o||U();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new J),!s){x("You will need to pass in an i18next instance by using initReactI18next");const r=(l,u)=>typeof u=="string"?u:u&&typeof u=="object"&&typeof u.defaultValue=="string"?u.defaultValue:Array.isArray(l)?l[l.length-1]:l,f=[r,{},!1];return f.t=r,f.i18n={},f.ready=!1,f}s.options.react&&s.options.react.wait!==void 0&&x("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...P(),...s.options.react,...e},{useSuspense:y,keyPrefix:m}=c;let a=i||s.options&&s.options.defaultNS;a=typeof a=="string"?[a]:a||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(a);const g=(s.isInitialized||s.initializedStoreOnce)&&a.every(r=>j(r,s,c)),k=G(s,e.lng||null,c.nsMode==="fallback"?a:a[0],m),I=()=>k,w=()=>F(s,e.lng||null,c.nsMode==="fallback"?a:a[0],m),[S,h]=d.useState(I);let N=a.join();e.lng&&(N=`${e.lng}${N}`);const T=W(N),p=d.useRef(!0);d.useEffect(()=>{const{bindI18n:r,bindI18nStore:f}=c;p.current=!0,!g&&!y&&(e.lng?v(s,e.lng,a,()=>{p.current&&h(w)}):E(s,a,()=>{p.current&&h(w)})),g&&T&&T!==N&&p.current&&h(w);function l(){p.current&&h(w)}return r&&s&&s.on(r,l),f&&s&&s.store.on(f,l),()=>{p.current=!1,r&&s&&r.split(" ").forEach(u=>s.off(u,l)),f&&s&&f.split(" ").forEach(u=>s.store.off(u,l))}},[s,N]),d.useEffect(()=>{p.current&&g&&h(I)},[s,m,g]);const b=[S,s,g];if(b.t=S,b.i18n=s,b.ready=g,g||!g&&!y)return b;throw new Promise(r=>{e.lng?v(s,e.lng,a,()=>r()):E(s,a,()=>r())})}export{q as I,P as a,H as b,Q as c,U as g,Y as s,X as u,x as w};
