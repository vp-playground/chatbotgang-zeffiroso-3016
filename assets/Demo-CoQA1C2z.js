import{j as s,a as v}from"./emotion-react-jsx-runtime.browser.esm-B6nDGTOp.js";import{u as w}from"./useHandler-HI23tEoY.js";import{c as p}from"./emotion-react.browser.esm-DKbCFQzN.js";import{U as k,b as N}from"./index-C-yJI2Ou.js";import{T}from"./Provider-BcjEMKgq.js";import{m as C}from"./memo-BZYTsoqr.js";import{r as h}from"./index-qCb0-TeD.js";import{T as D}from"./index-BYk_lHUg.js";import{T as M}from"./index-BzlLN0ST.js";import{p as u}from"./pathe.ff20891b-CZu1kPQR.js";const l="1px solid hsl(203deg 50% 30% / 15%);",c={root:p("overflow:hidden;border:",l,";border-radius:4px;margin:25px 0 40px;box-shadow:rgb(0 0 0 / 10%) 0 1px 3px 0;&>.ant-tabs-nav{margin-bottom:0;&>.ant-tabs-nav-wrap>.ant-tabs-nav-list{margin-left:1rem;}};label:emotion-root;"),files:{name:"kl25be-emotion-files",styles:"position:relative;display:flex;overflow:auto;min-height:5rem;max-height:calc(100dvh - 5rem);align-items:stretch;justify-content:stretch;resize:vertical;label:emotion-files;"},fileTree:p("overflow:auto;min-width:10rem;max-width:50%;padding-top:1rem;padding-bottom:1rem;border-radius:0;border-right:",l,";font-size:0.75rem;resize:horizontal;white-space:nowrap;;label:emotion-fileTree;"),fileContent:p(`overflow:auto;flex:1;pre,code,kbd,samp{/**
       * Cloned from Storybook.
       * @see https://github.com/storybookjs/storybook/blob/05fc2c0/code/lib/theming/src/base.ts#L74-L85
       */font-family:ui-monospace,Menlo,Monaco,"Roboto Mono","Oxygen Mono","Ubuntu Monospace","Source Code Pro","Droid Sans Mono","Courier New",monospace;font-size:0.875rem;-webkit-font-smoothing:antialiased;}.os-content-glue{display:none;}.docblock-source{overflow:auto;height:100%;border:none;margin:0;box-shadow:none;}pre.prismjs{padding-block:0.5rem;padding-inline:1rem;}.docblock-source>div:nth-of-type(1){overflow:auto;height:100%;border-left:`,l,";line-height:normal;}.docblock-source>div:nth-of-type(2)>*{position:absolute;z-index:1;right:0;bottom:0;width:max-content;padding:4px 10px;border:",l,";border-radius:0.5em;border-radius:4px 0 0;border-top:",l,";border-left:",l,';margin-left:-1px;background:#fff;color:#2e3438;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;font-size:0.75rem;font-weight:700;};label:emotion-fileContent;')};function g(e){return"dirname"in e}function j(e,o){return e.flatMap(r=>g(r)?[r]:[]).find(r=>r.dirname===o)}function b(e,o){return"dirname"in e&&"dirname"in o?e.dirname.localeCompare(o.dirname):"filename"in e&&"filename"in o?e.filename.localeCompare(o.filename):"dirname"in e&&"filename"in o?-1:"filename"in e&&"dirname"in o?1:0}function z(e){const o=[];return e.forEach(r=>{const a=r.path.split("/");let n=o;a.forEach((m,d)=>{if(d===a.length-1)n.push({filename:m,content:r.content,className:r.className}),n.sort(b);else{const t=j(n,m);if(t)n=t.children;else{const i={dirname:m,children:[]};n.push(i),n.sort(b),n=i.children}}})}),o}function x(e,o=""){return g(e)?{title:e.dirname,key:u.join(o,e.dirname),children:e.children.map(r=>x(r,u.join(o,e.dirname)))}:{title:e.filename,key:u.join(o,e.filename)}}const S=C(function({files:o}){const[r,a]=h.useState(()=>{const t=(()=>{const i=o.find(f=>f.selected);return i||o[0]})();return{filename:(t==null?void 0:t.path)??"",content:(t==null?void 0:t.content)??"No file selected.",className:(t==null?void 0:t.className)??""}}),n=h.useMemo(()=>z(o),[o]),m=h.useMemo(()=>n.map(t=>x(t)),[n]),d=w(t=>{const i=o.find(f=>t.find(y=>y===f.path));i&&a({filename:i.path,content:i.content,className:i.className})});return v("div",{css:c.files,children:[s("div",{css:c.fileTree,children:s(M,{rootClassName:"demo-shadow-file-tree",treeData:m,onSelect:d})}),s("div",{css:c.fileContent,children:r?s(N,{className:r.className,children:r.content}):null})]})}),A=({files:e,demo:o})=>{let r=0;return s(k,{children:s(D,{css:c.root,items:[{key:`${r++}`,label:"Demo",children:s(T,{children:s("div",{style:{padding:"1rem"},onKeyDown:a=>{a.stopPropagation()},children:o})})},{key:`${r++}`,label:"Files",children:s(S,{files:e})}]})})};export{A as D};
