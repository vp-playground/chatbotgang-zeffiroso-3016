import{j as a,a as h}from"./emotion-react-jsx-runtime.browser.esm-B6nDGTOp.js";import{a as C}from"./dummy-T6UpgMGd.js";import{c as E}from"./createContext-Co4ks8zE.js";import{d as u}from"./disableControl-BnIAncyP.js";import{r as s}from"./index-qCb0-TeD.js";import{r as y}from"./random-CmfFXdz5.js";import{c as g}from"./emotion-react.browser.esm-DKbCFQzN.js";import{u as _}from"./index-DPz6_WSv.js";import{o as L}from"./index-Bf2qc8Rt.js";import{d as B,e as v}from"./index-gEP6Tn1u.js";import{m as T}from"./merge-BUZDYRsv.js";import{d as U}from"./debounce-DBoK0mBS.js";import{s as R}from"./index-FhjP52Um.js";import{B as O}from"./button-B7-d1yET.js";import"./jsx-runtime-DzlC0hKS.js";import"./inspectMessage-DlwZE6zu.js";import"./index-BAiONZ7V.js";import"./assignDisplayName-lT0r0-ot.js";import"./index-C4jkG3Yz.js";import"./define-D3i8B5cg.js";import"./cloneDeepWith-ktajmmvU.js";import"./tags-CpduBB1M.js";import"./isPrimitive-CtkJ6J5I.js";import"./isArguments-DZsL9lab.js";import"./isTypedArray-CzKvdEgb.js";import"./noop-DX6rZLP_.js";import"./index-C5U6HIMD.js";import"./index-8L6fjrd-.js";import"./index-DbGQkxQ5.js";import"./omit-LJmhX_jk.js";import"./presets-fZzeZ6Sn.js";import"./DisabledContext-NEMnJEZA.js";import"./index-fivQpuRm.js";import"./index-CmoHrzZA.js";import"./index-BZsVY9hW.js";import"./isVisible-DhUEo0yb.js";import"./reactNode-CVIZC-dj.js";import"./asyncToGenerator-CUe5B5qN.js";import"./useSize-XLj32eBt.js";import"./Compact-VphdgA5n.js";import"./presetColors-DLnX3ho6.js";import"./LoadingOutlined-PTw75qLp.js";import"./AntdIcon-C0KfWvva.js";import"./shadow-smhd3i8u.js";import"./compact-item-5orumCwJ.js";function w(){const e=s.useRef(null),[t,o]=_(!1);return s.useEffect(()=>{if(t||!e.current)return;const n=e.current;function r(){return n.scrollHeight>n.clientHeight}const i=new ResizeObserver(function(){r()||o.on()});return i.observe(n),function(){i.disconnect()}},[t,o]),s.useMemo(()=>({expanded:t,expand:o.on,ref:e}),[t,o.on])}const A="div",M=y(),f=`--line-clamp-${M}`,j=B({root:g(v(`var(${f})`),";label:emotion-root;")}),z=s.forwardRef(function({component:t=A,lineClamp:o,expandableLineClampBoxUtilities:l,...n},r){const i=L([l.ref,r]),p=s.useMemo(()=>T({[f]:l.expanded?Number.MAX_SAFE_INTEGER:o},n.style),[o,l.expanded,n.style]);return a(t,{css:j.root,...n,ref:i,style:p})}),m=Object.assign(z,{useExpandableLineClampBoxUtilities:w});try{m.displayName="Api",m.__docgenInfo={description:"",displayName:"Api",props:{component:{defaultValue:null,description:`The component used for the root node.
Either a string to use a HTML element or a component.
The component used for the root node.`,name:"component",required:!1,type:{name:'(ElementType<any, keyof IntrinsicElements> & "symbol") | (ElementType<any, keyof IntrinsicElements> & "object") | ... 177 more ... | (ElementType<...> & FunctionComponent<...>)'}},lineClamp:{defaultValue:null,description:"The maximum number of lines to display before truncating the text.",name:"lineClamp",required:!0,type:{name:"number"}},expandableLineClampBoxUtilities:{defaultValue:null,description:"The returned object from the `useExpandableLineClampBoxUtilities` hook.",name:"expandableLineClampBoxUtilities",required:!0,type:{name:"{ expanded: boolean; expand: () => void; ref: MutableRefObject<HTMLElement>; }"}},children:{defaultValue:null,description:"The content of the component.",name:"children",required:!1,type:{name:"ReactNode"}}}}}catch{}const{useArgs:I}=__STORYBOOK_MODULE_PREVIEW_API__,Ae={component:m},d=E({name:"ExpandableLineClampBoxUtilitiesContext"}),S=({children:e})=>{const t=m.useExpandableLineClampBoxUtilities();return a(d.Provider,{value:t,children:e})},V=e=>{const t=d.useContext();return a(m,{...e,expandableLineClampBoxUtilities:t})},N=()=>{const e=d.useContext();return e.expanded?null:a(O,{onClick:e.expand,style:{marginTop:8},children:"Expand"})},Me={args:{width:void 0,lineClamp:3,children:C},argTypes:{width:{control:{type:"number"},description:"(Demo) The width of the demo container."},lineClamp:{control:{type:"number",step:3}},children:{control:{type:"text"}},component:u,expandableLineClampBoxUtilities:u},render:function(t){const[{width:o,...l},n]=I(),r=s.useRef(null);return s.useEffect(function(){let i=!1;if(!r.current)return;const p=r.current;function x(){i||n({width:p.offsetWidth})}const b=U(x,R(.2)),c=new ResizeObserver(b);return c.observe(p),function(){i=!0,c.disconnect()}},[n]),a("div",{style:{width:o,overflow:"hidden",boxSizing:"border-box",resize:"horizontal",border:"1px solid red"},ref:r,children:h(S,{children:[a(V,{...l}),a(N,{})]})})}},je=["Default"];export{Me as Default,je as __namedExportsOrder,Ae as default};
