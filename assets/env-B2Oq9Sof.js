import{e as V,o as C,s as r,p as M,a as G}from"./types-Dn-G_zsM.js";import{S}from"./StringToNumberSchema-DICqxOFk.js";import{t as R}from"./index-BQ-NB-n4.js";import{b as H,c as K}from"./appConstant-DrkG7OWi.js";import{m as w,c as j,s as Y}from"./traditional-B_ldJKp3.js";import{o as J}from"./index-BAiONZ7V.js";import{d as k}from"./debounce-DBoK0mBS.js";import{s as W}from"./index-FhjP52Um.js";import{o as $}from"./omitBy-DH6X2eoo.js";function X(e){var s=[];if(e.length===0)return"";if(typeof e[0]!="string")throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var a=e.shift();e[0]=a+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var i=0;i<e.length;i++){var n=e[i];if(typeof n!="string")throw new TypeError("Url must be a string. Received "+n);n!==""&&(i>0&&(n=n.replace(/^[\/]+/,"")),i<e.length-1?n=n.replace(/[\/]+$/,""):n=n.replace(/[\/]+$/,"/"),s.push(n))}var t=s.join("/");t=t.replace(/\/(\?|&|#[^!])/g,"$1");var _=t.split("?");return t=_.shift()+(_.length>0?"?":"")+_.join("&"),t}function Z(){var e;return typeof arguments[0]=="object"?e=arguments[0]:e=[].slice.call(arguments),X(e)}const p=["false","0",""],P=["true","1"],q=V([...P,...p]).transform(e=>!p.includes(e)),A=Object.assign(q,{falsyStrings:p,truthyStrings:P});function B(e){return Object.fromEntries(Object.entries(e).map(([s,a])=>[s,M(r().optional(),a)]))}const L=C(B({VITE_CANTATA_API_HOST:r().url(),VITE_API_DEFAULT_LIMIT:S,VITE_API_BULK_ACTION_LIMIT:S,VITE_LEGATO_WS_HOST:r().url(),VITE_MAAC_FORGET_PASSWORD_URL:r().url(),VITE_ADMIN_CENTER_HOST:r().url(),VITE_FIREBASE_CONTENT_STORAGE_API_KEY:r().min(1),VITE_FIREBASE_CONTENT_STORAGE_PROJECT_ID:r().min(1),VITE_FIREBASE_CONTENT_STORAGE_BUCKET:r().min(1),VITE_FIREBASE_CONTENT_STORAGE_APP_ID:r().min(1),VITE_FIREBASE_CONTENT_STORAGE_IMMORTAL_BUCKET:r().min(1),VITE_FIREBASE_CONTENT_STORAGE_SENDER_ID:r().min(1),VITE_FIREBASE_CONTENT_STORAGE_VAPID_KEY:r().min(1),VITE_FIREBASE_SHARED_API_KEY:r().min(1),VITE_FIREBASE_SHARED_AUTH_DOMAIN:r().min(1),VITE_FIREBASE_SHARED_PROJECT_ID:r().min(1),VITE_FIREBASE_SHARED_APP_ID:r().min(1),VITE_FIREBASE_LOCALE_STORAGE_API_KEY:r().min(1),VITE_FIREBASE_LOCALE_STORAGE_APP_ID:r().min(1),VITE_FIREBASE_LOCALE_STORAGE_AUTH_DOMAIN:r().min(1),VITE_FIREBASE_LOCALE_STORAGE_PROJECT_ID:r().min(1),VITE_FIREBASE_LOCALE_STORAGE_STORAGE_BUCKET:r().min(1),VITE_FIREBASE_LOCALE_STORAGE_PATH_PREFIX:r().min(1),VITE_FB_APP_ID:r().min(1),VITE_FB_CURSOR_BASED_PAGINATION_LIMIT:S.optional(),VITE_DEFAULT_QUERY_RETRY_MAX_COUNT:S,VITE_DEFAULT_UPLOAD_CONCURRENCY:S,VITE_SENTRY_RELEASE:r().min(1).optional(),VITE_SENTRY_DSN:r().min(1),VITE_GTM_ID:r().min(1),VITE_GA4_ID:r().min(1),VITE_USERFLOW_TOKEN:r().min(1),VITE_USERFLOW_USER_ID_PREFIX:r().min(1),VITE_USERFLOW_ATTRIBUTE_PREFIX:r().min(1),VITE_HOTJAR_ID:S,VITE_HOTJAR_USER_ID_PREFIX:r().min(1),VITE_ZENDESK_KEY:r().min(1),VITE_SITE:V(["staging","production","jp"]),VITE_TITLE:r().min(1),VITE_DESCRIPTION:r().min(1),VITE_CAAC_APPLE_APP_STORE_LINK:r().url(),VITE_CAAC_GOOGLE_PLAY_LINK:r().url(),VITE_CAAC_BROADCAST_MEMBERS_LIMIT:S}));C(B({CI:A.default("false"),IS_STORYBOOK:A.default("false"),NODE_ENV:V(["development","production","test"]).default("development"),PORT:S.default("3000"),FORMAT:A.default("false"),SENTRY_AUTH_TOKEN:r().optional(),SOURCEMAP:A.default("false"),VISUALIZER:A.default("false"),TURBO_CONSOLE:A.default("false"),ENABLE_SSL:A.default("false")}));function z(e,s,a=0){if(typeof a>"u"||+a==0)return Math[e](s);if(s=+s,a=+a,Number.isNaN(s)||a%1!==0)return Number.NaN;const[i,n=0]=s.toString().split("e"),t=Math[e](+`${i}e${Number(n)-a}`),[_,T=0]=t.toString().split("e");return+`${_}e${+T+a}`}function Q(e,{defaultValue:s=Number.NaN,max:a=1/0,min:i=-1/0,decimalAdjust:n}={}){let t=typeof e=="number"?e:typeof e=="string"?Number.parseFloat(e):function(){try{return Number(e)}catch{return Number.NaN}}();return Number.isNaN(t)&&(t=s),n&&(t=z(n.type,t,n.exponent)),Math.min(Math.max(t,i),a)}function x(e){return s=>Q(s,e)}function v(e){return s=>w(e,(a,i)=>a(s==null?void 0:s[i]))}function ee(e){return typeof e=="string"?e:typeof e=="number"||typeof e=="bigint"||typeof e=="boolean"?String(e):e==null?"":J(e)}function te(){return ee}const F=function(s){return function(i,n){const t=(n==null?void 0:n.parser)??(s==null?void 0:s.parser)??JSON.parse,_=n&&"fallback"in n||s&&"fallback"in s,T=n&&"fallback"in n?n.fallback:s==null?void 0:s.fallback;try{return t(i)}catch(l){if(!_)throw l;return T}}},ne=F(),re=Object.assign(ne,{create:F});function se(e,s){let a;try{a=e()}catch{return}return{getItem:n=>{var t;const _=l=>l===null?null:JSON.parse(l,void 0),T=(t=a.getItem(n))!=null?t:null;return T instanceof Promise?T.then(_):_(T)},setItem:(n,t)=>a.setItem(n,JSON.stringify(t,void 0)),removeItem:n=>a.removeItem(n)}}const b=e=>s=>{try{const a=e(s);return a instanceof Promise?a:{then(i){return b(i)(a)},catch(i){return this}}}catch(a){return{then(i){return this},catch(i){return b(i)(a)}}}},ae=(e,s)=>(a,i,n)=>{let t={storage:se(()=>localStorage),partialize:o=>o,version:0,merge:(o,f)=>({...f,...o}),...s},_=!1;const T=new Set,l=new Set;let I=t.storage;if(!I)return e((...o)=>{console.warn(`[zustand persist middleware] Unable to update item '${t.name}', the given storage is currently unavailable.`),a(...o)},i,n);const O=()=>{const o=t.partialize({...i()});return I.setItem(t.name,{state:o,version:t.version})},g=n.setState;n.setState=(o,f)=>{g(o,f),O()};const m=e((...o)=>{a(...o),O()},i,n);n.getInitialState=()=>m;let E;const c=()=>{var o,f;if(!I)return;_=!1,T.forEach(u=>{var d;return u((d=i())!=null?d:m)});const h=((f=t.onRehydrateStorage)==null?void 0:f.call(t,(o=i())!=null?o:m))||void 0;return b(I.getItem.bind(I))(t.name).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==t.version){if(t.migrate)return[!0,t.migrate(u.state,u.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,u.state];return[!1,void 0]}).then(u=>{var d;const[U,y]=u;if(E=t.merge(y,(d=i())!=null?d:m),a(E,!0),U)return O()}).then(()=>{h==null||h(E,void 0),E=i(),_=!0,l.forEach(u=>u(E))}).catch(u=>{h==null||h(void 0,u)})};return n.persist={setOptions:o=>{t={...t,...o},o.storage&&(I=o.storage)},clearStorage:()=>{I==null||I.removeItem(t.name)},getOptions:()=>t,rehydrate:()=>c(),hasHydrated:()=>_,onHydrate:o=>(T.add(o),()=>{T.delete(o)}),onFinishHydration:o=>(l.add(o),()=>{l.delete(o)})},t.skipHydration||c(),E||m},oe=ae,ie=W(1);function D(e,s,a={}){const i=E=>{const c=re(E,{fallback:null});return v({state:v({value:s}),version:x()})(c)},n=s(null),{storage:t=localStorage,forUser:_=!0,version:T=0,...l}=a,I=j()(oe((E,c)=>({value:n,setValue(o){E({value:typeof o=="function"?o(c().value):o})},clear(){E({value:n})}}),{name:e,version:T,...l,storage:{getItem:E=>{const c=t.getItem(E)||"";return i(c)},setItem:(E,c)=>{const o=JSON.stringify(c);t.setItem(E,o)},removeItem:E=>t.removeItem(E)}}),Y);_&&Ee.subscribe((E,c)=>{E.value!==c.value&&I.getState().clear()});const O=k(function(c){I.getState().setValue(c)},ie);function g(E){if(E.storageArea!==t||E.key!==e)return;const c=i(E.newValue??"");if(c.version!==T)return;const{state:{value:o}}=c;JSON.stringify({state:{value:o},version:T})===E.newValue&&O(o)}window.addEventListener("storage",g);function m(){window.removeEventListener("storage",g)}return{useStore:I,destroy:m}}const{useStore:Ee}=D(H,te(),{forUser:!1}),_e=C(R.objectFromEntries(R.objectKeys(L.shape).flatMap(e=>[[e,r().optional().catch(void 0)]]))).catch(R.objectFromEntries(R.objectKeys(L.shape).flatMap(e=>[[e,void 0]]))),ce=D(K,e=>_e.parse(e),{forUser:!1}),Te=C(R.objectFromEntries(R.objectKeys(L.shape).flatMap(e=>{const a=L.shape[e].or(G()).catch(void 0);return[[e,a]]}))),N={...window.env,...$(Te.parse(ce.useStore.getState().value),e=>e===void 0)},Ne=N.VITE_CANTATA_API_HOST,ue=N.VITE_LEGATO_WS_HOST;Z(ue,"/api/v1/ws");const ge="./",he=N.VITE_CAAC_APPLE_APP_STORE_LINK,Le=N.VITE_CAAC_GOOGLE_PLAY_LINK,Ce=N.VITE_CAAC_BROADCAST_MEMBERS_LIMIT;export{ge as B,he as C,Le as a,Ee as b,D as c,Ce as d,Ne as e,x as n,v as o,re as p,te as s,Z as u};
